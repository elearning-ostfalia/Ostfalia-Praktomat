<?xml version="1.0" encoding="UTF-8"?>
<response xmlns="urn:proforma:v2.0"
 xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" {% if solution.lang %}lang="{{solution.lang }} }}"{% endif %}>
    {% if solution.seperate %}<separate-test-feedback>
        <submission-feedback-list>
{% if solution.versioncontrol %}            <student-feedback level="info">
                <title>Version Control System</title>
                <content format="plaintext">{{solution.versioncontrol.system}}: {{solution.versioncontrol.uri}} Revision: {{solution.versioncontrol.revision}}</content>
            </student-feedback>
{% endif %}        </submission-feedback-list>
        <tests-response>
            {% for testResult in testResultList %}
            <test-response id="{{ testResult.checker.proforma_id }}">
                {# Format=<{{testResult.log_format }}> #}
                {% if testResult.is_proforma_subtests_format  %}

                {# version with complete subtest result #}
                {#<subtests-response>#}
                {% autoescape off %}{{ testResult.log }}{% endautoescape %}
                {#</subtests-response>#}

                {% else %}
                {# default version with simple log output and passed/failed converted to score #}
                <test-result>                
                    <result {% if testResult.internal_error  %}is-internal-error="true"{% endif %}>
                        <score>{% if testResult.passed  %}1{% else %}0{% endif %}</score>
                    </result>
                    <feedback-list>
                        {% if testResult.checker.public %}
                        <student-feedback level="info">
                            <title>{{testResult.checker.title}}</title>
                            <content format="html">{% autoescape off %}<![CDATA[{{ testResult.log }}]]>{% endautoescape %}</content>
                        </student-feedback>
                        {% else %}
                            <teacher-feedback level="info">
                                <title>{{testResult.checker.title}}</title>
                                <content format="html">{% autoescape off %}<![CDATA[{{ testResult.log }}]]>{% endautoescape %}</content>
                            </teacher-feedback>
                        {% endif %}
                    </feedback-list>
                </test-result>

                {% endif %}
            </test-response>
            {% endfor %}
        </tests-response>
    </separate-test-feedback>
    {% endif %}
    <files>
    </files>
    <response-meta-data>
        <grader-engine name="{{ grader.name }}" version="{{ grader.version }}"/>
    </response-meta-data>
</response>
